<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>温馨提醒</title>
    <link rel="icon" type="image/png" href="favicon.ico">
    <style>
    :root {
        --main-color: rgba(255, 255, 255, 0.95);
        --minor-color: rgba(255, 255, 255, 0.75);
        --accent-color: #ff6b9d;
        --danger-color: #ff4d7a;
        --glass-bg: rgba(30, 20, 25, 0.85);
        --glass-border: rgba(255, 255, 255, 0.12);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        position: relative;
        overflow: hidden;
        color: var(--main-color);
    }

    .background-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -2;
    }

    .bg-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0;
        transition: opacity 1.5s ease-in-out;
    }

    .bg-image.active {
        opacity: 1;
    }

    .bg-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(20, 10, 15, 0.8) 0%, rgba(50, 30, 40, 0.6) 100%);
        z-index: -1;
    }

    .verification-card {
        background: var(--glass-bg);
        backdrop-filter: blur(12px) saturate(180%);
        -webkit-backdrop-filter: blur(12px) saturate(180%);
        border-radius: 20px;
        border: 1px solid var(--glass-border);
        padding: 50px;
        width: 90%;
        max-width: 650px;
        text-align: center;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.25);
        transform-style: preserve-3d;
        perspective: 1000px;
        animation: cardEntrance 0.8s cubic-bezier(0.22, 1, 0.36, 1) both;
    }

    .logo {
        width: 80px;
        height: 80px;
        margin: 0 auto 25px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 36px;
        color: var(--accent-color);
        border: 2px solid var(--accent-color);
    }

    h1 {
        font-size: 2.4rem;
        font-weight: 600;
        margin-bottom: 15px;
        letter-spacing: 0.5px;
        background: linear-gradient(to right, var(--main-color), var(--accent-color));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
    }

    .description {
        color: var(--minor-color);
        line-height: 1.7;
        margin: 0 auto 30px;
        max-width: 85%;
        font-size: 1.1rem;
    }

    .description strong {
        color: var(--main-color);
        font-weight: 500;
    }

    .button-group {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 10px;
    }

    .btn {
        padding: 14px 35px;
        border-radius: 10px;
        font-size: 1.05rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        position: relative;
        overflow: hidden;
        border: none;
        min-width: 180px;
        letter-spacing: 0.5px;
        z-index: 1;
    }

    .btn-primary {
        background: var(--accent-color);
        color: white;
        box-shadow: 0 5px 20px rgba(255, 107, 157, 0.3);
    }

    .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(255, 107, 157, 0.4);
    }

    .btn-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to right, #ff7cab, #ff5d8f);
        z-index: -1;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .btn-primary:hover::before {
        opacity: 1;
    }

    .btn-secondary {
        background: transparent;
        color: var(--minor-color);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .btn-secondary:hover {
        color: var(--danger-color);
        border-color: var(--danger-color);
        transform: translateY(-3px);
    }

    .language-toggle {
        margin-top: 30px;
        color: var(--minor-color);
        font-size: 0.9rem;
        cursor: pointer;
        display: inline-block;
        transition: color 0.2s;
    }

    .language-toggle:hover {
        color: var(--accent-color);
    }

    @keyframes cardEntrance {
        from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    @media (max-width: 768px) {
        .verification-card {
            padding: 40px 25px;
            width: 95%;
        }
        
        h1 {
            font-size: 2rem;
        }
        
        .description {
            max-width: 100%;
            font-size: 1rem;
        }
        
        .button-group {
            flex-direction: column;
            gap: 15px;
        }
        
        .btn {
            width: 100%;
            padding: 12px;
        }
    }
    </style>
</head>

<body>
    <div class="background-container" id="bgContainer"></div>
    <div class="bg-overlay"></div>
    
    <div class="verification-card">
        <div class="logo">18+</div>
        <h1>年龄验证</h1>
        <div class="description">
            以下内容可能不适合<strong>未满18岁</strong>的人群观看，我们需要确认您的年龄
        </div>
        <div class="button-group">
            <button class="btn btn-primary" onclick="grantAccess()">刚满18岁</button>
            <button class="btn btn-secondary" onclick="denyAccess()">未满18岁</button>
        </div>
        <div class="language-toggle" onclick="toggleLanguage()">English Version</div>
    </div>

    <script>
    // 背景管理类
    class BackgroundManager {
        constructor() {
            this.container = document.getElementById('bgContainer');
            this.currentIndex = 0;
            this.images = [];
            this.preloadNextImage();
            this.startRotation();
        }
        
        preloadNextImage() {
            const img = document.createElement('div');
            img.className = 'bg-image';
            this.container.appendChild(img);
            this.images.push(img);
            
            const timestamp = new Date().getTime();
            const bgUrl = `https://www.loliapi.com/acg/?${timestamp}`;
            
            // 使用Image对象预加载
            const loader = new Image();
            loader.onload = () => {
                img.style.backgroundImage = `url('${bgUrl}')`;
                if(this.images.length === 1) {
                    img.classList.add('active');
                }
            };
            loader.src = bgUrl;
        }
        
        rotateBackground() {
            // 预加载下一张图片
            this.preloadNextImage();
            
            // 如果只有一张图片，不需要切换
            if(this.images.length < 2) return;
            
            // 获取当前和下一张图片
            const current = this.images[this.currentIndex];
            const nextIndex = (this.currentIndex + 1) % this.images.length;
            const next = this.images[nextIndex];
            
            // 添加active类以显示下一张图片
            next.classList.add('active');
            
            // 延迟后移除当前图片的active类
            setTimeout(() => {
                current.classList.remove('active');
                
                // 如果当前图片不是最后一张，则移除DOM元素
                if(this.images.length > 2) {
                    this.container.removeChild(current);
                    this.images.splice(this.currentIndex, 1);
                    // 因为移除了一个元素，所以不需要增加currentIndex
                } else {
                    this.currentIndex = nextIndex;
                }
            }, 1500); // 与CSS过渡时间匹配
        }
        
        startRotation() {
            // 初始旋转
            this.rotationInterval = setInterval(() => {
                this.rotateBackground();
            }, 5000);
        }
    }

    // 初始化背景管理器
    const bgManager = new BackgroundManager();

    // 访问控制函数
    function grantAccess() {
        // 创建全屏视频元素
        const video = document.createElement('video');
        video.src = 'video.mp4';
        video.style.position = 'fixed';
        video.style.top = '0';
        video.style.left = '0';
        video.style.width = '100%';
        video.style.height = '100%';
        video.style.objectFit = 'cover';
        video.style.zIndex = '1000';
        document.body.appendChild(video);
        
        // 播放视频并进入全屏
        video.play().then(() => {
            if (video.requestFullscreen) {
                video.requestFullscreen();
            } else if (video.webkitRequestFullscreen) {
                video.webkitRequestFullscreen();
            }
        });
        
        // 视频结束后自动关闭全屏
        video.onended = function() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            }
            video.remove();
        };
    }

    function denyAccess() {
        const isChinese = document.querySelector('h1').textContent === '年龄验证';
        if(isChinese) {
            alert('根据相关法律法规，我们无法向未成年人提供此内容。');
        } else {
            alert('According to relevant laws and regulations, we cannot provide this content to minors.');
        }
    }

    // 语言切换功能
    function toggleLanguage() {
        const card = document.querySelector('.verification-card');
        const isChinese = card.querySelector('h1').textContent === '年龄验证';
        
        if (isChinese) {
            card.querySelector('h1').textContent = 'Age Verification';
            card.querySelector('.description').textContent = 
                'The following content may not be suitable for people under the age of 18. We need to confirm your age.';
            card.querySelector('.btn-primary').textContent = 'Just turned 18';
            card.querySelector('.btn-secondary').textContent = 'Under 18';
            card.querySelector('.language-toggle').textContent = '中文版本';
        } else {
            card.querySelector('h1').textContent = '年龄验证';
            card.querySelector('.description').textContent = 
                '以下内容可能不适合未满18岁的人群观看，我们需要确认您的年龄';
            card.querySelector('.btn-primary').textContent = '刚满18岁';
            card.querySelector('.btn-secondary').textContent = '未满18岁';
            card.querySelector('.language-toggle').textContent = 'English Version';
        }
    }
    </script>
</body>

</html>